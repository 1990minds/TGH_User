{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { KeyUri, config } from \"../key\";\nimport { toast } from 'react-toastify';\nconst initialState = {\n  all_location: [],\n  loading: false,\n  hasError: false,\n  current_location: null,\n  from_location: null,\n  to_location: null\n};\nexport const locationSlice = createSlice({\n  name: 'location',\n  initialState,\n  reducers: {\n    getlocation: state => {\n      state.loading = true;\n    },\n    getAll_location_success: (state, {\n      payload\n    }) => {\n      console.log(\"------------>\", payload);\n      state.loading = false;\n      state.all_location = payload;\n    },\n    getCurrentSuccess: (state, {\n      payload\n    }) => {\n      state.loading = false;\n      state.current_location = payload;\n    },\n    get_location_Failure: state => {\n      state.loading = false;\n      state.hasError = true;\n    }\n  }\n});\nexport const {\n  getlocation,\n  getAll_location_success,\n  getCurrentSuccess,\n  get_location_Failure\n} = locationSlice.actions;\nexport const locationSelector = state => state.location;\nexport const fetchAlllocation = () => async dispatch => {\n  dispatch(getlocation());\n  const key = 'fetchAlllocation';\n  try {\n    const {\n      data\n    } = await axios.get(KeyUri.BACKEND_URI + `/get-all-locations`, config);\n    console.log(data);\n    dispatch(getAll_location_success(data));\n  } catch (error) {\n    dispatch(get_location_Failure());\n  }\n};\nexport const createlocation = values => async dispatch => {\n  dispatch(getlocation());\n  const key = 'create';\n  try {\n    const {\n      data\n    } = await axios.post(KeyUri.BACKEND_URI + `/createlocation`, values, config);\n    toast.success(data.msg, {\n      position: \"top-center\",\n      autoClose: 2500,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n    dispatch(fetchAlllocation());\n  } catch ({\n    response\n  }) {\n    toast.error(response.data.msg, {\n      position: \"top-center\",\n      autoClose: 2500,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n    dispatch(get_location_Failure());\n  }\n};\nexport const fetchonelocation = id => async dispatch => {\n  dispatch(getlocation());\n  const key = 'fetchOnelocation';\n  try {\n    const {\n      data\n    } = await axios.get(KeyUri.BACKEND_URI + `/get-location/${id}`, config);\n    dispatch(getCurrentSuccess(data));\n  } catch (error) {\n    dispatch(get_location_Failure());\n  }\n};\nexport const updatelocation = (values, id) => async dispatch => {\n  const key = 'location';\n  dispatch(getlocation());\n  try {\n    const {\n      data\n    } = await axios.put(KeyUri.BACKEND_URI + `/update-location/${id}`, values, config);\n    toast.success(data.msg, {\n      position: \"top-center\",\n      autoClose: 2500,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n    dispatch(fetchAlllocation());\n  } catch ({\n    response\n  }) {\n    // Show error message using Typography\n    toast.success(response.data.msg, {\n      position: \"top-center\",\n      autoClose: 2500,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n    dispatch(get_location_Failure());\n  }\n};\nexport const deletelocation = id => async dispatch => {\n  dispatch(getlocation());\n  const key = 'create';\n  try {\n    const {\n      data\n    } = await axios.delete(KeyUri.BACKEND_URI + `/delete-location/${id} `, config);\n    if (data && data.msg) {\n      // Show success toast if 'msg' exists in the response\n      toast.success(data.msg, {\n        position: \"top-center\",\n        autoClose: 2500,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      dispatch(fetchAlllocation());\n    } else {\n      console.error(\"Unexpected response format:\", data);\n      dispatch(get_location_Failure());\n    }\n  } catch (error) {\n    console.error(\"An error occurred:\", error);\n    toast.error(\"An error occurred\", {\n      position: \"top-center\",\n      autoClose: 2500,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n    dispatch(get_location_Failure());\n  }\n};\nexport default locationSlice.reducer;","map":{"version":3,"names":["createSlice","axios","KeyUri","config","toast","initialState","all_location","loading","hasError","current_location","from_location","to_location","locationSlice","name","reducers","getlocation","state","getAll_location_success","payload","console","log","getCurrentSuccess","get_location_Failure","actions","locationSelector","location","fetchAlllocation","dispatch","key","data","get","BACKEND_URI","error","createlocation","values","post","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","response","fetchonelocation","id","updatelocation","put","deletelocation","delete","reducer"],"sources":["D:/VK Works/Cabservice/user_side/src/api/locations.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios'\r\nimport { KeyUri, config } from \"../key\";\r\nimport { toast } from 'react-toastify'\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n   \r\n    all_location:[],\r\n    loading:false,\r\n    hasError:false,\r\n    current_location:null,\r\n    from_location:null,\r\n    to_location:null\r\n}\r\n\r\n\r\nexport const locationSlice = createSlice({\r\n  name: 'location',\r\n  initialState,\r\n  reducers: {\r\n\r\n    getlocation: state => {\r\n      state.loading = true;\r\n    },\r\n\r\n    getAll_location_success: (state, {payload})  =>{\r\n      console.log(\"------------>\",payload)\r\n      state.loading = false\r\n      state.all_location = payload\r\n    },\r\n\r\n\r\n    getCurrentSuccess: (state, {payload}) =>{\r\n        state.loading = false\r\n        state.current_location = payload \r\n    },\r\n\r\n    get_location_Failure: (state) => {\r\n      state.loading = false\r\n      state.hasError = true\r\n    },\r\n\r\n   \r\n    \r\n   \r\n\r\n  },\r\n})\r\n\r\n\r\nexport const { getlocation ,getAll_location_success, getCurrentSuccess, get_location_Failure} = locationSlice.actions;\r\n\r\n\r\n\r\nexport const locationSelector = state => state.location;\r\n\r\n\r\n\r\n  export const fetchAlllocation = () => async (dispatch) => {\r\n    dispatch(getlocation());\r\n    const key = 'fetchAlllocation';\r\n    try {\r\n      const { data } = await axios.get(KeyUri.BACKEND_URI + `/get-all-locations`,config); \r\n      console.log(data);\r\n      dispatch(getAll_location_success(data));\r\n    } catch (error) {\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\nexport const createlocation = (values) => async (dispatch) => {\r\n\r\n  \r\n\r\n  dispatch(getlocation());\r\n  const key = 'create'; \r\n  try {\r\n  const { data } = await axios.post(KeyUri.BACKEND_URI + `/createlocation`,values,config);\r\n  toast.success (data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(fetchAlllocation());\r\n    } catch ({ response }) {\r\n      toast.error (response.data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n\r\n  export const fetchonelocation = (id) => async (dispatch) => {\r\n    dispatch(getlocation());\r\n    const key = 'fetchOnelocation';\r\n    try {\r\n      const { data } = await axios.get(KeyUri.BACKEND_URI + `/get-location/${id}`,config);\r\n      dispatch(getCurrentSuccess(data));\r\n    } catch (error) {\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n  export const updatelocation = (values, id) => async (dispatch) => {\r\n   \r\n    const key = 'location';\r\n    dispatch(getlocation());\r\n  \r\n    try {\r\n      const { data } = await axios.put(KeyUri.BACKEND_URI + `/update-location/${id}`, values, config);\r\n     \r\n      toast.success (data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n    dispatch(fetchAlllocation());\r\n    } catch ({ response }) {\r\n      // Show error message using Typography\r\n      toast.success (response.data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n  export const deletelocation = (id) => async (dispatch) => {\r\n   \r\n    dispatch(getlocation());\r\n    const key = 'create';\r\n    try {\r\n      const { data } = await axios.delete(KeyUri.BACKEND_URI + `/delete-location/${id} `, config);\r\n      if (data && data.msg) {\r\n        // Show success toast if 'msg' exists in the response\r\n        toast.success(data.msg, {\r\n          position: \"top-center\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        dispatch(fetchAlllocation());\r\n      } else {\r\n        console.error(\"Unexpected response format:\", data);\r\n        dispatch(get_location_Failure());\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n      toast.error(\"An error occurred\", {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\nexport default locationSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}