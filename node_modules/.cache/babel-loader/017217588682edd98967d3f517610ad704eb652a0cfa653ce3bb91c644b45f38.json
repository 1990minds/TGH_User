{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import axios from'axios';import{KeyUri,config}from\"../key\";import{toast}from'react-toastify';const initialState={all_location:[],loading:false,hasError:false,current_location:null};export const locationSlice=createSlice({name:'location',initialState,reducers:{getlocation:state=>{state.loading=true;},getAll_location_success:(state,_ref)=>{let{payload}=_ref;console.log(\"------------>\",payload);state.loading=false;state.all_location=payload;},getCurrentSuccess:(state,_ref2)=>{let{payload}=_ref2;state.loading=false;state.current_location=payload;},get_location_Failure:state=>{state.loading=false;state.hasError=true;}}});export const{getlocation,getAll_location_success,getCurrentSuccess,get_location_Failure}=locationSlice.actions;export const locationSelector=state=>state.location;export const fetchAlllocation=()=>async dispatch=>{dispatch(getlocation());const key='fetchAlllocation';try{const{data}=await axios.get(KeyUri.BACKEND_URI+\"/get-all-locations\",config);console.log(data);dispatch(getAll_location_success(data));}catch(error){dispatch(get_location_Failure());}};export const createlocation=values=>async dispatch=>{dispatch(getlocation());const key='create';try{const{data}=await axios.post(KeyUri.BACKEND_URI+\"/createlocation\",values,config);toast.success(data.msg,{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(fetchAlllocation());}catch({response}){toast.error(response.data.msg,{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(get_location_Failure());}};export const fetchonelocation=id=>async dispatch=>{dispatch(getlocation());const key='fetchOnelocation';try{const{data}=await axios.get(KeyUri.BACKEND_URI+\"/get-location/\".concat(id),config);dispatch(getCurrentSuccess(data));}catch(error){dispatch(get_location_Failure());}};export const updatelocation=(values,id)=>async dispatch=>{const key='location';dispatch(getlocation());try{const{data}=await axios.put(KeyUri.BACKEND_URI+\"/update-location/\".concat(id),values,config);toast.success(data.msg,{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(fetchAlllocation());}catch({response}){// Show error message using Typography\ntoast.success(response.data.msg,{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(get_location_Failure());}};export const deletelocation=id=>async dispatch=>{dispatch(getlocation());const key='create';try{const{data}=await axios.delete(KeyUri.BACKEND_URI+\"/delete-location/\".concat(id,\" \"),config);if(data&&data.msg){// Show success toast if 'msg' exists in the response\ntoast.success(data.msg,{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(fetchAlllocation());}else{console.error(\"Unexpected response format:\",data);dispatch(get_location_Failure());}}catch(error){console.error(\"An error occurred:\",error);toast.error(\"An error occurred\",{position:\"top-center\",autoClose:2500,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});dispatch(get_location_Failure());}};export default locationSlice.reducer;","map":{"version":3,"names":["createSlice","axios","KeyUri","config","toast","initialState","all_location","loading","hasError","current_location","locationSlice","name","reducers","getlocation","state","getAll_location_success","_ref","payload","console","log","getCurrentSuccess","_ref2","get_location_Failure","actions","locationSelector","location","fetchAlllocation","dispatch","key","data","get","BACKEND_URI","error","createlocation","values","post","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","response","fetchonelocation","id","concat","updatelocation","put","deletelocation","delete","reducer"],"sources":["D:/VK Works/Cabservice/user_side/src/api/locations.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios'\r\nimport { KeyUri, config } from \"../key\";\r\nimport { toast } from 'react-toastify'\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n   \r\n    all_location:[],\r\n    loading:false,\r\n    hasError:false,\r\n    current_location:null,\r\n  \r\n}\r\n\r\n\r\nexport const locationSlice = createSlice({\r\n  name: 'location',\r\n  initialState,\r\n  reducers: {\r\n\r\n    getlocation: state => {\r\n      state.loading = true;\r\n    },\r\n\r\n    getAll_location_success: (state, {payload})  =>{\r\n      console.log(\"------------>\",payload)\r\n      state.loading = false\r\n      state.all_location = payload\r\n    },\r\n\r\n\r\n    getCurrentSuccess: (state, {payload}) =>{\r\n        state.loading = false\r\n        state.current_location = payload \r\n    },\r\n\r\n    get_location_Failure: (state) => {\r\n      state.loading = false\r\n      state.hasError = true\r\n    },\r\n\r\n   \r\n    \r\n   \r\n\r\n  },\r\n})\r\n\r\n\r\nexport const { getlocation ,getAll_location_success, getCurrentSuccess, get_location_Failure} = locationSlice.actions;\r\n\r\n\r\n\r\nexport const locationSelector = state => state.location;\r\n\r\n\r\n\r\n  export const fetchAlllocation = () => async (dispatch) => {\r\n    dispatch(getlocation());\r\n    const key = 'fetchAlllocation';\r\n    try {\r\n      const { data } = await axios.get(KeyUri.BACKEND_URI + `/get-all-locations`,config); \r\n      console.log(data);\r\n      dispatch(getAll_location_success(data));\r\n    } catch (error) {\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\nexport const createlocation = (values) => async (dispatch) => {\r\n\r\n  \r\n\r\n  dispatch(getlocation());\r\n  const key = 'create'; \r\n  try {\r\n  const { data } = await axios.post(KeyUri.BACKEND_URI + `/createlocation`,values,config);\r\n  toast.success (data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(fetchAlllocation());\r\n    } catch ({ response }) {\r\n      toast.error (response.data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n\r\n  export const fetchonelocation = (id) => async (dispatch) => {\r\n    dispatch(getlocation());\r\n    const key = 'fetchOnelocation';\r\n    try {\r\n      const { data } = await axios.get(KeyUri.BACKEND_URI + `/get-location/${id}`,config);\r\n      dispatch(getCurrentSuccess(data));\r\n    } catch (error) {\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n  export const updatelocation = (values, id) => async (dispatch) => {\r\n   \r\n    const key = 'location';\r\n    dispatch(getlocation());\r\n  \r\n    try {\r\n      const { data } = await axios.put(KeyUri.BACKEND_URI + `/update-location/${id}`, values, config);\r\n     \r\n      toast.success (data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n    dispatch(fetchAlllocation());\r\n    } catch ({ response }) {\r\n      // Show error message using Typography\r\n      toast.success (response.data.msg, {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        \r\n    })\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n  export const deletelocation = (id) => async (dispatch) => {\r\n   \r\n    dispatch(getlocation());\r\n    const key = 'create';\r\n    try {\r\n      const { data } = await axios.delete(KeyUri.BACKEND_URI + `/delete-location/${id} `, config);\r\n      if (data && data.msg) {\r\n        // Show success toast if 'msg' exists in the response\r\n        toast.success(data.msg, {\r\n          position: \"top-center\",\r\n          autoClose: 2500,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n        dispatch(fetchAlllocation());\r\n      } else {\r\n        console.error(\"Unexpected response format:\", data);\r\n        dispatch(get_location_Failure());\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n      toast.error(\"An error occurred\", {\r\n        position: \"top-center\",\r\n        autoClose: 2500,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      dispatch(get_location_Failure());\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\nexport default locationSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}